<p class="item-content-headline">Details</p>

{% if ('item.shortDescription' in itemData or 'all' in itemData)%}
<p class="single-description" v-if="currentVariation.texts.shortDescription !== ''" v-html="currentVariation.texts.shortDescription"></p>
{% endif %}

<graduated-prices template="#vue-graduated-prices"></graduated-prices>

{% if ('item.recommendedPrice' in itemData or 'all' in itemData) %}
    <div class="crossprice" v-if="currentVariation.prices.rrp && currentVariation.prices.rrp.unitPrice.value > 0 && currentVariation.prices.rrp.unitPrice.value > currentVariation.prices.default.unitPrice.value">
        <del class="text-muted small">
            ${ currentVariation.prices.rrp.unitPrice.formatted | itemCrossPrice  }
        </del>
    </div>
{% endif %}

<span class="price h1" v-if="currentVariation.variation.availability.id != 10">
  <span v-if="addPleaseSelectOption && $store.state.variationSelect.isVariationSelected === false && ($store.state.item.pleaseSelectVariationId == currentVariation.variation.id || $store.state.item.pleaseSelectVariationId == 0)" :content="currentVariation.prices.default.price.value">
       {{ trans("Ceres::Template.dynamicVariationPrice", {price: "${ variationTotalPrice | currency(currentVariation.prices.default.currency) }"}) }}
   </span>
   <span v-else :content="currentVariation.prices.default.price.value">
       ${ variationTotalPrice | currency(currentVariation.prices.default.currency) }
   </span>
  <span :content="currentVariation.prices.default.currency"></span>
</span>
<span class="price h1" v-else>
  <span>
  {{ trans("Nous42::Template.onDemand") }}
  </span>
</span>

<div class="base-price text-muted" v-if="currentVariation.unit && !(currentVariation.unit.unitOfMeasurement === 'C62' && currentVariation.unit.content === 1)">
  <div>
    {{ trans("Ceres::Template.singleItemContent") }}
    <span>${ currentVariation.unit.content | numberFormat }</span>
    <span>${ currentVariation.unit.names.name }</span>
  </div>
  <div v-if="currentVariation.variation.mayShowUnitPrice">
    {{ trans("Ceres::Template.singleItemUnitPrice") }}
    <span class="base-price-value">
      ${ variationGraduatedPrice.basePrice }
    </span>
  </div>
</div>

<span class="vat">
  {% if services.customer.showNetPrices() %}
    {{ trans("Ceres::Template.singleItemExclVAT") }}
  {% else %}
    {{ trans("Ceres::Template.singleItemInclVAT") }}
  {% endif %}
  {{ trans("Ceres::Template.singleItemExclusive") }}
  <a href="{{ trans("Nous42::Template.linkShippingCosts") }}" title="{{ trans("Ceres::Template.singleItemShippingCosts") }}">{{ trans("Ceres::Template.singleItemShippingCosts") }}</a>
</span>

<hr>
<!-- Variation -->
<div class="varSelect" v-if="attributes.length || Object.keys(units).length">
  <variation-select></variation-select><hr>
</div>
<!-- /Variation -->

<div class="detail">
  <p class="articlenumber">
    <span>{{ trans("Ceres::Template.singleItemNumber") }}: </span>
    <span>${ currentVariation.variation.number }</span>
  </p>
  <p v-if="currentVariation.variation.availability" class="availability">
    <span>{{ trans("Ceres::Template.basketAvailability") }}: </span>
    <span> ${ currentVariation.variation.availability.names.name }</span>
  </p>
</div>

<hr>

<slot name="before-price"></slot>
<slot name="after-price"></slot>

<div v-if="currentVariation.variation.availability.id == 10">
  <p>{{ trans("Nous42::Template.itemStockAnfrage") }}</p>
  <slot name="before-add-to-basket"></slot>
</div>

<div class="cartBtn" v-if="currentVariation.variation.availability.id != 10">
{{ AddToBasket.printVueComponent(
            "currentVariation",
            false,
            true,
            {
                ":missing-order-properties":"variationMissingProperties",
                ":is-variation-selected": "isVariationSelected && currentVariation.filter.isSalable",
                ":has-price": "currentVariation | hasItemDefaultPrice"
            }
        ) }}
</div>
<slot name="after-add-to-basket"></slot>
